var OnigurumaToES=(()=>{var ge=Object.defineProperty;var Mt=Object.getOwnPropertyDescriptor;var Bt=Object.getOwnPropertyNames;var Vt=Object.prototype.hasOwnProperty;var jt=(e,t)=>{for(var r in t)ge(e,r,{get:t[r],enumerable:!0})},Ht=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Bt(t))!Vt.call(e,n)&&n!==r&&ge(e,n,{get:()=>t[n],enumerable:!(s=Mt(t,n))||s.enumerable});return e};var Kt=e=>Ht(ge({},"__esModule",{value:!0}),e);var Pn={};jt(Pn,{compile:()=>Ve,toOnigurumaAst:()=>Gt,toRegExp:()=>Ot,toRegexAst:()=>Ln});var he=String.raw,je=he`(?:\p{Emoji}\uFE0F\u20E3?|\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|\p{Emoji_Presentation})`,He=he`\u{E0061}-\u{E007A}`,Ke=()=>new RegExp(he`[\u{1F1E6}-\u{1F1FF}]{2}|\u{1F3F4}[${He}]{2}[\u{E0030}-\u{E0039}${He}]{1,3}\u{E007F}|${je}(?:\u200D${je})*`,"gu");var $=String.fromCodePoint,d=String.raw,U={ES2018:2018,ES2024:2024,ESNext:2025},O={ES2018:"ES2018",ES2024:"ES2024",ESNext:"ESNext"};function j(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}function P(e,t){if(!e)throw new Error(t??"Value expected");return e}var Wt=new Set([$(304),$(305)]);function Ce(e){if(Wt.has(e))return[e];let t=new Set,r=e.toLowerCase(),s=r.toUpperCase(),n=qt.get(r),a=Qt.get(r);return[...s].length===1&&t.add(s),t.add(r),n&&t.add(n),a&&t.add(a),[...t]}var me=new Set(["C","Other","Cc","Control","cntrl","Cf","Format","Cn","Unassigned","Co","Private_Use","Cs","Surrogate","L","Letter","LC","Cased_Letter","Ll","Lowercase_Letter","Lm","Modifier_Letter","Lo","Other_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter","M","Mark","Combining_Mark","Mc","Spacing_Mark","Me","Enclosing_Mark","Mn","Nonspacing_Mark","N","Number","Nd","Decimal_Number","digit","Nl","Letter_Number","No","Other_Number","P","Punctuation","punct","Pc","Connector_Punctuation","Pd","Dash_Punctuation","Pe","Close_Punctuation","Pf","Final_Punctuation","Pi","Initial_Punctuation","Po","Other_Punctuation","Ps","Open_Punctuation","S","Symbol","Sc","Currency_Symbol","Sk","Modifier_Symbol","Sm","Math_Symbol","So","Other_Symbol","Z","Separator","Zl","Line_Separator","Zp","Paragraph_Separator","Zs","Space_Separator","ASCII","ASCII_Hex_Digit","AHex","Alphabetic","Alpha","Any","Assigned","Bidi_Control","Bidi_C","Bidi_Mirrored","Bidi_M","Case_Ignorable","CI","Cased","Changes_When_Casefolded","CWCF","Changes_When_Casemapped","CWCM","Changes_When_Lowercased","CWL","Changes_When_NFKC_Casefolded","CWKCF","Changes_When_Titlecased","CWT","Changes_When_Uppercased","CWU","Dash","Default_Ignorable_Code_Point","DI","Deprecated","Dep","Diacritic","Dia","Emoji","Emoji_Component","EComp","Emoji_Modifier","EMod","Emoji_Modifier_Base","EBase","Emoji_Presentation","EPres","Extended_Pictographic","ExtPict","Extender","Ext","Grapheme_Base","Gr_Base","Grapheme_Extend","Gr_Ext","Hex_Digit","Hex","IDS_Binary_Operator","IDSB","IDS_Trinary_Operator","IDST","ID_Continue","IDC","ID_Start","IDS","Ideographic","Ideo","Join_Control","Join_C","Logical_Order_Exception","LOE","Lowercase","Lower","Math","Noncharacter_Code_Point","NChar","Pattern_Syntax","Pat_Syn","Pattern_White_Space","Pat_WS","Quotation_Mark","QMark","Radical","Regional_Indicator","RI","Sentence_Terminal","STerm","Soft_Dotted","SD","Terminal_Punctuation","Term","Unified_Ideograph","UIdeo","Uppercase","Upper","Variation_Selector","VS","White_Space","space","XID_Continue","XIDC","XID_Start","XIDS"]),Ee=new Map;for(let e of me)Ee.set(Z(e),e);var zt=new Set(["Basic_Emoji","Emoji_Keycap_Sequence","RGI_Emoji","RGI_Emoji_Flag_Sequence","RGI_Emoji_Modifier_Sequence","RGI_Emoji_Tag_Sequence","RGI_Emoji_ZWJ_Sequence"]),we=new Map;for(let e of zt)we.set(Z(e),e);var We=new Set("Dogr Dogra Gong Gunjala_Gondi Hanifi_Rohingya Maka Makasar Medefaidrin Medf Old_Sogdian Rohg Sogd Sogdian Sogo Extended_Pictographic Elym Elymaic Hmnp Nand Nandinagari Nyiakeng_Puachue_Hmong Wancho Wcho Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi EBase EComp EMod EPres ExtPict Cpmn Cypro_Minoan Old_Uyghur Ougr Tangsa Tnsa Toto Vith Vithkuqi Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz".split(" ")),Qt=new Map([[$(223),$(7838)],[$(107),$(8490)],[$(229),$(8491)],[$(969),$(8486)]]),qt=new Map([G(453),G(456),G(459),G(498),...de(8072,8079),...de(8088,8095),...de(8104,8111),G(8124),G(8140),G(8188)]),se=new Map([["alnum",d`[\p{Alpha}\p{Nd}]`],["alpha",d`\p{Alpha}`],["ascii",d`\p{ASCII}`],["blank",d`[\p{Zs}\t]`],["cntrl",d`\p{cntrl}`],["digit",d`\p{Nd}`],["graph",d`[\P{space}&&\P{cntrl}&&\P{Cn}&&\P{Cs}]`],["lower",d`\p{Lower}`],["print",d`[[\P{space}&&\P{cntrl}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",d`[\p{P}\p{S}]`],["space",d`\p{space}`],["upper",d`\p{Upper}`],["word",d`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",d`\p{AHex}`]]),ze=new Set(["alnum","blank","graph","print","word","xdigit"]);function Xt(e,t){let r=[];for(let s=e;s<=t;s++)r.push(s);return r}function Z(e){return e.replace(/[- _]+/g,"").toLowerCase()}function G(e){let t=$(e);return[t.toLowerCase(),t]}function de(e,t){return Xt(e,t).map(r=>G(r))}var Ae=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]);var C={Alternator:"Alternator",Assertion:"Assertion",Backreference:"Backreference",Character:"Character",CharacterClassClose:"CharacterClassClose",CharacterClassHyphen:"CharacterClassHyphen",CharacterClassIntersector:"CharacterClassIntersector",CharacterClassOpen:"CharacterClassOpen",CharacterSet:"CharacterSet",Directive:"Directive",GroupClose:"GroupClose",GroupOpen:"GroupOpen",Subroutine:"Subroutine",Quantifier:"Quantifier",VariableLengthCharacterSet:"VariableLengthCharacterSet",EscapedNumber:"EscapedNumber"},N={any:"any",digit:"digit",hex:"hex",posix:"posix",property:"property",space:"space",word:"word"},Y={keep:"keep",flags:"flags"},I={atomic:"atomic",capturing:"capturing",group:"group",lookahead:"lookahead",lookbehind:"lookbehind"},Qe=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]),Je="c.? | C(?:-.?)?",Ze=d`[pP]\{(?:\^?[\x20\w]+\})?`,Ye=d`u\{[^\}]*\}? | u\p{AHex}{0,4} | x\p{AHex}{0,2}`,et=d`\d{1,3}`,tt=d`\[\^?\]?`,rt=/[?*+][?+]?|\{\d+(?:,\d*)?\}\??/,ae=new RegExp(d`
  \\ (?:
    ${Je}
    | ${Ze}
    | ${Ye}
    | ${et}
    | [gk]<[^>]*>
    | [gk]'[^']*'
    | .
  )
  | \( (?: \? (?:
    [:=!>]
    | <[=!]
    | <[^>]*>
    | '[^']*'
    | # (?:[^)\\] | \\.?)* \)?
    | [imx\-]+[:)]
  )?)?
  | ${rt.source}
  | ${tt}
  | .
`.replace(/\s+/g,""),"gsu"),Se=new RegExp(d`
  \\ (?:
    ${Je}
    | ${Ze}
    | ${Ye}
    | ${et}
    | .
  )
  | \[:[^:]*:\]
  | ${tt}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function K(e,t=""){if(!/^[imx]*$/.test(t))throw new Error(`Flags "${t}" unsupported in Oniguruma`);let r=[t.includes("x")],s={getCurrentModX:()=>r.at(-1),popModX(){r.pop()},pushModX(c){r.push(c)},replaceCurrentModX(c){r[r.length-1]=c}},n=[],a;for(ae.lastIndex=0;a=ae.exec(e);){let c=Jt(s,e,a[0],ae.lastIndex)??{};c.tokens?n.push(...c.tokens):c.token&&n.push(c.token),c.lastIndex!==void 0&&(ae.lastIndex=c.lastIndex)}let o=[],i=0;n.forEach(c=>{c.type===C.GroupOpen&&(c.kind===I.capturing?(i++,c.number=i):c.raw==="("&&o.push(c))}),i||o.forEach((c,l)=>{c.kind=I.capturing,c.number=l+1});let u=i||o.length;return n=n.map(c=>c.type===C.EscapedNumber?or(c,u):c).flat(),{tokens:n,flags:{ignoreCase:t.includes("i"),dotAll:t.includes("m"),extended:t.includes("x")}}}function Jt(e,t,r,s){let[n,a,o]=r;if(n==="["){let i=Zt(t,r,s);return{tokens:i.tokens,lastIndex:i.lastIndex}}if(n==="\\")return"AbBGzZ".includes(a)?{token:E(C.Assertion,r,{kind:r})}:/^\\g[<']/.test(r)?{token:E(C.Subroutine,r)}:/^\\k[<']/.test(r)?{token:E(C.Backreference,r)}:a==="K"?{token:E(C.Directive,r,{kind:Y.keep})}:"RX".includes(a)?{token:E(C.VariableLengthCharacterSet,r,{kind:r})}:{token:nt(r,{inCharClass:!1})};if(n==="("){if(o==="#"){if(!r.endsWith(")"))throw new Error('Unclosed comment group "(?#"');return}if("-imx".includes(o)){let i=tr(r,e);return i?{token:i}:void 0}if(e.pushModX(e.getCurrentModX()),r==="("||r==="(?:")return{token:E(C.GroupOpen,r,{kind:I.group})};if(r==="(?>")return{token:E(C.GroupOpen,r,{kind:I.atomic})};if(r==="(?="||r==="(?!"||r==="(?<="||r==="(?<!")return{token:E(C.GroupOpen,r,{kind:o==="<"?I.lookbehind:I.lookahead,negate:r.endsWith("!")})};if(o==="<"||o==="'")return{token:E(C.GroupOpen,r,{kind:I.capturing,name:r.slice(3,-1)})};throw r==="(?"?new Error("Invalid group"):new Error(`Unexpected group "${r}"`)}if(r===")")return e.popModX(),{token:E(C.GroupClose,r)};if(r==="#"&&e.getCurrentModX()){let i=t.indexOf(`
`,s);return{lastIndex:i===-1?t.length:i}}if(!(/^\s$/.test(r)&&e.getCurrentModX()))return r==="."?{token:E(C.CharacterSet,r,{kind:N.any})}:r==="^"||r==="$"?{token:E(C.Assertion,r,{kind:r})}:r==="|"?{token:E(C.Alternator,r)}:rt.test(r)?{token:rr(r)}:(st(r),{token:E(C.Character,r,{value:r.codePointAt(0)})})}function Zt(e,t,r){Xe(t);let s=[E(C.CharacterClassOpen,t,{negate:t[1]==="^"})],n=1,a;for(Se.lastIndex=r;a=Se.exec(e);){let o=a[0];if(o[0]==="["&&o[1]!==":")Xe(o),n++,s.push(E(C.CharacterClassOpen,o,{negate:o[1]==="^"}));else if(o==="]"){if(n--,s.push(E(C.CharacterClassClose,o)),!n)break}else s.push(Yt(o))}return{tokens:s,lastIndex:Se.lastIndex||e.length}}function Yt(e){if(e[0]==="\\")return nt(e,{inCharClass:!0});if(e[0]==="["){let t=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(e);if(!t||!se.get(t.groups.name))throw new Error(`Invalid POSIX class "${e}"`);return E(C.CharacterSet,e,{kind:N.posix,negate:!!t.groups.negate,value:t.groups.name})}return e==="-"?E(C.CharacterClassHyphen,e):e==="&&"?E(C.CharacterClassIntersector,e):(st(e),E(C.Character,e,{value:e.codePointAt(0)}))}function nt(e,{inCharClass:t}){let r=e[1];if(r==="c"||r==="C")return er(e);if("dDhHsSwW".includes(r))return nr(e);if(/^\\[pP]\{/.test(e)){if(e.length===3)throw new Error("Incomplete or invalid Unicode property");return sr(e)}if(r==="u"||r==="x")return E(C.Character,e,{value:ar(e)});if(Qe.has(r))return E(C.Character,e,{value:Qe.get(r)});if(/\d/.test(r))return E(C.EscapedNumber,e,{inCharClass:t});if(e==="\\")throw new Error(d`Incomplete escape "\"`);if(r==="M")throw new Error(`Unsupported meta escape "${e}"`);if(e.length===2)return E(C.Character,e,{value:e.codePointAt(1)});throw new Error(`Unexpected escape "${e}"`)}function E(e,t,r){return{type:e,raw:t,...r}}function er(e){let t=e[1]==="c"?e[2]:e[3];if(!t||!/[a-zA-Z]/.test(t))throw new Error(`Unsupported control character "${e}"`);return E(C.Character,e,{value:t.toUpperCase().codePointAt(0)-64})}function tr(e,t){let{on:r,off:s}=/^\(\?(?<on>[imx]*)(?:-(?<off>[imx\-]*))?/.exec(e).groups;s??="";let n=(t.getCurrentModX()||r.includes("x"))&&!s.includes("x"),a=qe(r),o=qe(s),i={};if(a&&(i.enable=a),o&&(i.disable=o),e.endsWith(")"))return t.replaceCurrentModX(n),a||o?E(C.Directive,e,{kind:Y.flags,flags:i}):void 0;if(e.endsWith(":")){t.pushModX(n);let u=E(C.GroupOpen,e,{kind:I.group});return(a||o)&&(u.flags=i),u}throw new Error(`Unexpected flag group "${e}"`)}function rr(e){let t={};if(e[0]==="{"){let{min:r,max:s}=/^\{(?<min>\d+)(?:,(?<max>\d*))?/.exec(e).groups,n=1e5;if(+r>n||+s>n)throw new Error("Quantifier value unsupported in Oniguruma");t.min=+r,t.max=s===void 0?+r:s===""?1/0:+s,t.greedy=!e.endsWith("?"),t.possessive=!1}else t.min=e[0]==="+"?1:0,t.max=e[0]==="?"?1:1/0,t.greedy=e[1]!=="?",t.possessive=e[1]==="+";return E(C.Quantifier,e,t)}function nr(e){let t=e[1].toLowerCase();return E(C.CharacterSet,e,{kind:{d:N.digit,h:N.hex,s:N.space,w:N.word}[t],negate:e[1]!==t})}function sr(e){let{p:t,neg:r,value:s}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[ \w]+)/.exec(e).groups,n=t==="P"&&!r||t==="p"&&!!r;return E(C.CharacterSet,e,{kind:N.property,negate:n,value:s})}function ar(e){if(/^(?:\\x$|\\u(?!\p{AHex}{4}|\{\s*\p{AHex}{1,6}\s*\}))/u.test(e))throw new Error(`Incomplete or invalid escape "${e}"`);let t=e[2]==="{"?/^\\u\{\s*(?<hex>\p{AHex}+)/u.exec(e).groups.hex:e.slice(2),r=parseInt(t,16);if(r>1114111)throw new Error(`Invalid escape out of range "${e}"`);return r}function qe(e){let t={};return e.includes("i")&&(t.ignoreCase=!0),e.includes("m")&&(t.dotAll=!0),Object.keys(t).length?t:null}function or(e,t){let{raw:r,inCharClass:s}=e,n=r.slice(1);if(!s&&(n!=="0"&&n.length===1||n[0]!=="0"&&+n<=t))return[E(C.Backreference,r)];let a=[],o=n.match(/^[0-7]+|\d/g);for(let i=0;i<o.length;i++){let u=o[i],c=i===0&&u!=="8"&&u!=="9"?parseInt(u,8):u.codePointAt(0);a.push(E(C.Character,(i===0?"\\":"")+u,{value:c}))}return a}function Xe(e){if(e.endsWith("]"))throw new Error(`Empty character class "${e}" unsupported in Oniguruma`)}function st(e){if([...e].length!==1)throw new Error(`Expected "${e}" to be a single code point`)}function T(e,t,r){let s=e.node;for(;s.parent;)s=s.parent;function n(o,i){for(let u=0;u<o.length;u++){let c=a(o[u],i,u,o);u=Math.max(-1,u+c)}}function a(o,i=null,u=null,c=null){let l=0,g=!1,p={node:o,parent:i,key:u,container:c,ast:s,remove(){P(c,"Container expected").splice(Math.max(0,u+l),1),l-=1},removeAllNextSiblings(){return P(c,"Container expected").splice(u+1)},removeAllPrevSiblings(){let S=u+l;return l-=S,P(c,"Container expected").splice(0,Math.max(0,S))},replaceWith(S){ir(S,i),c?c[Math.max(0,u+l)]=S:i[u]=S},skip(){g=!0}},h=at(o).find(S=>!!r[S]),m=h&&r[h],w=typeof m=="function"?m:m?.enter,k=m?.exit;if(w?.(p,t),!g)switch(o.type){case f.Regex:a(o.pattern,o,"pattern"),a(o.flags,o,"flags");break;case f.Alternative:case f.CharacterClass:n(o.elements,o);break;case f.Assertion:(o.kind===A.lookahead||o.kind===A.lookbehind)&&n(o.alternatives,o);break;case f.Backreference:case f.Character:case f.CharacterSet:case f.Directive:case f.Flags:case f.Recursion:case f.Subroutine:case f.VariableLengthCharacterSet:break;case f.CapturingGroup:case f.Group:case f.Pattern:n(o.alternatives,o);break;case f.CharacterClassIntersection:n(o.classes,o);break;case f.CharacterClassRange:a(o.min,o,"min"),a(o.max,o,"max");break;case f.Quantifier:a(o.element,o,"element");break;default:throw new Error(`Unexpected node type "${o.type}"`)}return k?.(p,t),l}a(e.node,e.parent,e.key,e.container)}function ir(e,t){"parent"in t&&(e.parent=t)}var f={Alternative:"Alternative",Assertion:"Assertion",Backreference:"Backreference",CapturingGroup:"CapturingGroup",Character:"Character",CharacterClass:"CharacterClass",CharacterClassIntersection:"CharacterClassIntersection",CharacterClassRange:"CharacterClassRange",CharacterSet:"CharacterSet",Directive:"Directive",Flags:"Flags",Group:"Group",Pattern:"Pattern",Quantifier:"Quantifier",Regex:"Regex",Subroutine:"Subroutine",VariableLengthCharacterSet:"VariableLengthCharacterSet",Recursion:"Recursion"},ot={AnyGroup:"AnyGroup",AnyNode:"AnyNode"};function at({type:e,kind:t}){let r=[ot.AnyNode];return(e===f.Assertion&&(t===A.lookahead||t===A.lookbehind)||e===f.CapturingGroup||e===f.Group)&&r.push(ot.AnyGroup),r.push(e),r}var A={line_end:"line_end",line_start:"line_start",lookahead:"lookahead",lookbehind:"lookbehind",search_start:"search_start",string_end:"string_end",string_end_newline:"string_end_newline",string_start:"string_start",word_boundary:"word_boundary"},x=N,H=Y,ee={newline:"newline",grapheme:"grapheme"};function W({tokens:e,flags:t},r){let s={bypassPropertyNameCheck:!1,optimize:!0,...r},n={bypassPropertyNameCheck:s.bypassPropertyNameCheck,capturingGroups:[],current:0,hasNumberedRef:!1,namedGroupsByName:new Map,optimize:s.optimize,parent:null,subroutines:[],token:null,tokens:e,walk:a};function a(p,h){let m=e[n.current];switch(n.parent=p,n.token=m,n.current++,m.type){case C.Alternator:return M();case C.Assertion:return ct(m);case C.Backreference:return ur(n);case C.Character:return lt(m.value);case C.CharacterClassHyphen:return cr(n,h);case C.CharacterClassOpen:return lr(n,h);case C.CharacterSet:return pr(n);case C.Directive:return wr(m);case C.GroupOpen:return fr(n,h);case C.Quantifier:return gr(n);case C.Subroutine:return hr(n);case C.VariableLengthCharacterSet:return $r(m.kind);default:throw new Error(`Unexpected token type "${m.type}"`)}}let o=_r(Sr(),Ar(t)),i=o.pattern.alternatives[0];for(;n.current<e.length;){let p=a(i,{});p.type===f.Alternative?(o.pattern.alternatives.push(p),i=p):i.elements.push(p)}let{capturingGroups:u,hasNumberedRef:c,namedGroupsByName:l,subroutines:g}=n;if(c&&l.size)throw new Error("Numbered backref/subroutine not allowed when using named capture");for(let{ref:p}of g)if(typeof p=="number"){if(p>u.length)throw new Error("Subroutine uses a group number that's not defined")}else if(l.has(p)){if(l.get(p).length>1)throw new Error(d`Subroutine uses a duplicate group name "\g<${p}>"`)}else throw new Error(d`Subroutine uses a group name that's not defined "\g<${p}>"`);return T({node:o},null,{AnyNode({node:p,parent:h}){p.parent=h}}),o}function ur(e){let{raw:t}=e.token,r=/^\\k[<']/.test(t),s=r?t.slice(3,-1):t.slice(1),n=(a,o=!1)=>{let i=e.capturingGroups.length;if(a>i)throw new Error(`Not enough capturing groups defined to the left "${t}"`);return e.hasNumberedRef=!0,oe(o?i+1-a:a)};if(r){let a=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(s);if(a)return n(+a.groups.num,!!a.groups.sign);if(/[-+]/.test(s))throw new Error(`Invalid backref name "${t}"`);if(!e.namedGroupsByName.has(s))throw new Error(`Group name not defined to the left "${t}"`);return oe(s)}return n(+s)}function cr(e,t){let{parent:r,tokens:s,walk:n}=e,a=r.elements.at(-1),o=s[e.current];if(a&&a.type!==f.CharacterClass&&o&&o.type!==C.CharacterClassOpen&&o.type!==C.CharacterClassClose&&o.type!==C.CharacterClassIntersector){let i=n(r,t);if(a.type===f.Character&&i.type===f.Character)return r.elements.pop(),Er(a,i);throw new Error("Invalid character class range")}return lt(45)}function lr(e,t){let{token:r,tokens:s,optimize:n,walk:a}=e,o=ke({negate:r.negate}),i=o.elements[0],u=it(s[e.current]);for(;u.type!==C.CharacterClassClose;){if(u.type===C.CharacterClassIntersector)i.classes.push(ke({negate:!1,baseOnly:!0})),e.current++;else{let c=i.classes.at(-1);c.elements.push(a(c,t))}u=it(s[e.current])}if(n&&Fr(i),i.classes.length===1){let c=i.classes[0];c.negate=o.negate!==c.negate,o=c}return e.current++,o}function pr({token:e,bypassPropertyNameCheck:t}){let{kind:r,negate:s,value:n}=e;if(r===N.property){let o=Z(n);if(ze.has(o))r=N.posix,n=o;else return be(n,{negate:s,allowAnyName:t})}let a={type:f.CharacterSet,kind:P(x[r],`Unexpected character set kind "${r}"`)};return(r===N.digit||r===N.hex||r===N.posix||r===N.space||r===N.word)&&(a.negate=s,r===N.posix&&(a.value=n)),a}function fr(e,t){let{token:r,tokens:s,optimize:n,capturingGroups:a,namedGroupsByName:o,walk:i}=e,u=dr(r);u.type===f.CapturingGroup&&(a.push(u),u.name&&j(o,u.name,[]).push(u));let c=ut(s[e.current]);for(;c.type!==C.GroupClose;){if(c.type===C.Alternator)u.alternatives.push(M()),e.current++;else{let l=u.alternatives.at(-1);t.isInLookbehind||=u.kind===A.lookbehind;let g=i(l,t);if(l.elements.push(g),t.isInLookbehind&&g.type===f.Quantifier&&g.min!==g.max)throw new Error("Variable repetition within lookbehind unsupported in Oniguruma")}c=ut(s[e.current])}return n&&(u=Ir(u)),e.current++,u}function gr({token:e,parent:t}){let{min:r,max:s,greedy:n,possessive:a}=e;if(!t.elements.length)throw new Error("Nothing to repeat");let o=kr(t.elements.at(-1),r,s,n,a);return t.elements.pop(),o}function hr(e){let{token:t,capturingGroups:r,subroutines:s}=e,n=t.raw.slice(3,-1),a=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(n);if(a){let i=+a.groups.num,u=r.length;if(e.hasNumberedRef=!0,n={"":i,"+":u+i,"-":u+1-i}[a.groups.sign],n<1)throw new Error("Invalid subroutine number")}else n==="0"&&(n=0);let o=br(n);return s.push(o),o}function M(){return{type:f.Alternative,elements:[]}}function ct({type:e,kind:t,negate:r}){if(e===C.GroupOpen)return _e({behind:t===I.lookbehind,negate:r});let s=P({"^":A.line_start,$:A.line_end,"\\A":A.string_start,"\\b":A.word_boundary,"\\B":A.word_boundary,"\\G":A.search_start,"\\z":A.string_end,"\\Z":A.string_end_newline}[t],`Unexpected assertion kind "${t}"`),n={type:f.Assertion,kind:s};return s===A.word_boundary&&(n.negate=t===d`\B`),n}function oe(e){return{type:f.Backreference,ref:e}}function dr(e){let{kind:t,number:r,name:s,flags:n}=e;switch(t){case I.atomic:return v({atomic:!0});case I.capturing:return Cr(r,s);case I.group:return v({flags:n});case I.lookahead:case I.lookbehind:return ct(e);default:throw new Error(`Unexpected group kind "${t}"`)}}function Cr(e,t){let r=t!==void 0;if(r&&!yr(t))throw new Error(`Group name "${t}" invalid in Oniguruma`);return{type:f.CapturingGroup,number:e,...r&&{name:t},alternatives:[M()]}}function lt(e){return{type:f.Character,value:e}}function ke(e){let t={baseOnly:!1,negate:!1,...e};return{type:f.CharacterClass,negate:t.negate,elements:t.baseOnly?[]:[mr()]}}function mr(){return{type:f.CharacterClassIntersection,classes:[ke({negate:!1,baseOnly:!0})]}}function Er(e,t){if(t.value<e.value)throw new Error("Character class range out of order");return{type:f.CharacterClassRange,min:e,max:t}}function wr({kind:e,flags:t}){let r={type:f.Directive,kind:P(H[e],`Unexpected directive kind "${e}"`)};return e===Y.flags&&(r.flags=t),r}function Ar({ignoreCase:e,dotAll:t,extended:r}){return{type:f.Flags,ignoreCase:e,dotAll:t,extended:r}}function v({atomic:e,flags:t}={}){return{type:f.Group,...e&&{atomic:e},...t&&{flags:t},alternatives:[M()]}}function _e({behind:e=!1,negate:t=!1}={}){return{type:f.Assertion,kind:e?A.lookbehind:A.lookahead,negate:t,alternatives:[M()]}}function Sr(){return{type:f.Pattern,alternatives:[M()]}}function kr(e,t,r,s,n){if(r<t)throw new Error("Quantifier range out of order");return{type:f.Quantifier,min:t,max:r,greedy:s,possessive:n,element:e}}function _r(e,t){return{type:f.Regex,pattern:e,flags:t}}function br(e){return{type:f.Subroutine,ref:e}}function be(e,t){let r={allowAnyName:!1,negate:!1,...t};return{type:f.CharacterSet,kind:x.property,value:r.allowAnyName?e:Nr(e),negate:r.negate}}function $r(e){return{type:f.VariableLengthCharacterSet,kind:P({"\\R":ee.newline,"\\X":ee.grapheme}[e],`Unexpected varcharset kind "${e}"`)}}function Nr(e){let t=Z(e);if(we.has(t))throw new Error(d`Unicode property "\p{${e}}" unsupported in Oniguruma`);let r=Ee.get(t);return r||e.trim().replace(/\s+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[a-z]+/ig,s=>s[0].toUpperCase()+s.slice(1).toLowerCase())}function Ir(e){let t=e.alternatives[0],r=t.elements[0];return e.type===f.Group&&e.alternatives.length===1&&t.elements.length===1&&r.type===f.Group&&!(e.atomic&&r.flags)&&!(e.flags&&(r.atomic||r.flags))?(e.atomic?r.atomic=!0:e.flags&&(r.flags=e.flags),r):e}function yr(e){return!/^(?:[-\d]|$)/.test(e)}function Fr(e){for(let t=0;t<e.classes.length;t++){let r=e.classes[t],s=r.elements[0];r.elements.length===1&&s.type===f.CharacterClass&&(e.classes[t]=s,s.negate=r.negate!==s.negate)}}function it(e){return P(e,"Unclosed character class")}function ut(e){return P(e,"Unclosed group")}function ce(e,t){let r={allowBestEffort:!0,bestEffortTarget:O.ESNext,...t},s={allowBestEffort:r.allowBestEffort,flagDirectivesByAlt:new Map,minTargetEs2024:U[r.bestEffortTarget]>=U[O.ES2024],subroutineRefMap:new Map};T({node:e},s,ft);let n={groupOriginByCopy:new Map,groupsWithDuplicateNamesToRemove:new Set,multiplexCapturesToLeftByRef:new Map,namedGroupsInScopeByAlt:new Map,openDirectCaptures:new Set,openSubroutineRefs:new Set,reffedNodesByBackreference:new Map,subroutineRefMap:s.subroutineRefMap};T({node:e},n,gt);let a={groupsWithDuplicateNamesToRemove:n.groupsWithDuplicateNamesToRemove,numCapturesToLeft:0,reffedNodesByBackreference:n.reffedNodesByBackreference};return T({node:e},a,xr),e}var ft={Alternative:{enter({node:e,parent:t,key:r},{flagDirectivesByAlt:s}){let n=e.elements.filter(a=>a.kind===H.flags);for(let a=r+1;a<t.alternatives.length;a++){let o=t.alternatives[a];j(s,o,[]).push(...n)}},exit({node:e},{flagDirectivesByAlt:t}){if(t.get(e)?.length){let r=Ct(t.get(e)),s=te(v({flags:r}),e.elements);s.parent=e,e.elements=[s]}}},Assertion({node:e,parent:t,key:r,ast:s,remove:n,replaceWith:a}){let{kind:o,negate:i}=e;if(o===A.line_end)a(D(d`(?=\z|\n)`));else if(o===A.line_start)a(D(d`(?<=\A|\n)`));else if(o===A.search_start){if(t.parent!==s.pattern||r!==0)throw new Error(d`Uses "\G" in a way that's unsupported for conversion to JS`);s.flags.sticky=!0,n()}else if(o===A.string_end_newline)a(D(d`(?=\n?\z)`));else if(o===A.word_boundary){let u=d`[\p{L}\p{N}\p{Pc}]`,c=`(?:(?<=${u})(?!${u})|(?<!${u})(?=${u}))`,l=`(?:(?<=${u})(?=${u})|(?<!${u})(?!${u}))`;a(D(i?l:c))}},CapturingGroup({node:e},{subroutineRefMap:t}){let{name:r,number:s}=e;if(r&&!Pr(r))throw new Error(`Group name "${r}" invalid in JS`);t.set(r??s,e)},CharacterSet({node:e,replaceWith:t},{allowBestEffort:r,minTargetEs2024:s}){let{kind:n,negate:a,value:o}=e;if(n===x.hex)t(be("AHex",{negate:a}));else if(n===x.posix)if(!s&&(o==="graph"||o==="print")){if(!r)throw new Error(`POSIX class "${o}" requires option allowBestEffort or target ES2024`);let i={graph:"!-~",print:" -~"}[o];a&&(i=d`\0-${$(i.codePointAt(0)-1)}${$(i.codePointAt(2)+1)}-\u{10FFFF}`),t(D(`[${i}]`))}else{let i=D(se.get(o));i.negate=a,t(i)}else if(n===x.property)me.has(o)||(e.key="sc");else if(n===x.space){let i=D(`[ 	
\v\f\r]`);i.negate=a,t(i)}},Directive({node:e,parent:t,key:r,container:s,ast:n,replaceWith:a,removeAllPrevSiblings:o,removeAllNextSiblings:i},u){let{kind:c,flags:l}=e;if(c===H.flags){let g=te(v({flags:l}),i());a(g),T({node:g,parent:t,key:r,container:s},u,ft)}else if(c===H.keep){if(t.parent!==n.pattern||n.pattern.alternatives.length>1)throw new Error(d`Uses "\K" in a way that's unsupported for conversion to JS`);a(te(_e({behind:!0}),o()))}},Flags({node:e,parent:t}){delete e.extended,Object.assign(e,{global:!1,hasIndices:!1,multiline:!1,sticky:e.sticky??!1}),t.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:e}){if(!e.flags)return;let{enable:t,disable:r}=e.flags;t?.dotAll&&r?.dotAll&&delete t.dotAll,t?.ignoreCase&&r?.ignoreCase&&delete t.ignoreCase,t&&!Object.keys(t).length&&delete e.flags.enable},Pattern({node:e}){let t=!1,r=!1;for(let s of e.alternatives)s.elements.sort((n,a)=>n.kind===A.search_start&&a.kind===H.flags?-1:n.kind===H.flags&&a.kind===A.search_start?1:0),s.elements[0]?.kind===A.search_start?t=!0:r=!0;if(t&&r)throw new Error(d`Uses "\G" in a way that's unsupported for conversion to JS`)},Quantifier({node:e}){if(e.element.type===f.Quantifier){let t=te(v(),[e.element]);t.parent=e,e.element=t}},VariableLengthCharacterSet({node:e,replaceWith:t},{allowBestEffort:r,minTargetEs2024:s}){let{kind:n}=e;if(n===ee.newline)t(D(d`(?>\r\n?|[\n\v\f\x85\u2028\u2029])`));else if(n===ee.grapheme){if(!r)throw new Error(d`Use of "\X" requires option allowBestEffort`);let a=s?d`\p{RGI_Emoji}`:Ke().source;t(D(d`(?>\r\n|${a}|\P{M}\p{M}*)`,{bypassPropertyNameCheck:!0}))}else throw new Error(`Unexpected varcharset kind "${n}"`)}},gt={Alternative({node:e},{namedGroupsInScopeByAlt:t}){let r=ie(e);if(r){let s=t.get(r);s&&t.set(e,s)}},Backreference({node:e},{multiplexCapturesToLeftByRef:t,reffedNodesByBackreference:r}){let{ref:s}=e;r.set(e,[...t.get(s).map(({node:n})=>n)])},CapturingGroup:{enter({node:e,replaceWith:t,skip:r},{groupOriginByCopy:s,groupsWithDuplicateNamesToRemove:n,multiplexCapturesToLeftByRef:a,namedGroupsInScopeByAlt:o,openDirectCaptures:i,openSubroutineRefs:u}){let{name:c,number:l}=e,g=c??l,p=s.get(e),h=u.has(g)||i.has(p),m=h&&!u.size;if(h&&!m)throw new Error("Unsupported indirect recursion");if(p?u.add(g):i.add(e),m){t(pt(g)),r();return}let w=j(a,g,[]);for(let k=0;k<w.length;k++){let S=w[k];if(p===S.node||p&&p===S.origin||e===S.origin){w.splice(k,1);break}}if(w.push({node:e,origin:p}),c){let k=ie(e),S=j(o,k,new Map);if(S.has(c)&&n.add(S.get(c)),S.set(c,e),k=ie(k),k)for(;k=ie(k);)j(o,k,new Map).set(c,e)}},exit({node:e},{groupOriginByCopy:t,openDirectCaptures:r,openSubroutineRefs:s}){let{name:n,number:a}=e;t.get(e)?s.delete(n??a):r.delete(e)}},Subroutine({node:e,parent:t,key:r,container:s,replaceWith:n},a){let{groupOriginByCopy:o,subroutineRefMap:i}=a,{ref:u}=e,c=i.get(u),l=u===0,g=l?pt(u):ht(c,o,null),p=g;if(!l){let h=Ct(Lr(c,m=>m.type===f.Group&&!!m.flags));h&&(p=te(v({flags:h}),[g]))}n(p),l||T({node:p,parent:t,key:r,container:s},a,gt)}},xr={CapturingGroup({node:e},t){e.number=++t.numCapturesToLeft,t.groupsWithDuplicateNamesToRemove.has(e)&&delete e.name},Backreference({node:e,replaceWith:t},{reffedNodesByBackreference:r}){let s=r.get(e);if(s.length>1){let n=s.map(a=>ue(M(),[oe(a.number)]));t(ue(v(),n))}else e.ref=s[0].number}};function ue(e,t){return t.forEach(r=>r.parent=e),e[dt(e)]=t,e}function ht(e,t,r,s){let n=Array.isArray(e)?[]:{};for(let[a,o]of Object.entries(e))a==="parent"?n.parent=Array.isArray(r)?s:r:o&&typeof o=="object"?n[a]=ht(o,t,n,r):(a==="type"&&o===f.CapturingGroup&&t.set(n,e),n[a]=o);return n}function pt(e){if(typeof e=="number"&&e!==0)throw new Error("Unsupported recursion by number; use name instead");return{type:f.Recursion,ref:e}}function Lr(e,t){let r=[];for(;e=e.parent;)(!t||t(e))&&r.push(e);return r}function dt(e){if(e.alternatives)return"alternatives";if(e.elements)return"elements";if(e.classes)return"classes";throw new Error("Accessor for child container unknown")}function Ct(e){let t=["dotAll","ignoreCase"],r={enable:{},disable:{}};return e.forEach(({flags:s})=>{t.forEach(n=>{s.enable?.[n]&&(delete r.disable[n],r.enable[n]=!0),s.disable?.[n]&&(r.disable[n]=!0)})}),Object.keys(r.enable).length||delete r.enable,Object.keys(r.disable).length||delete r.disable,r.enable||r.disable?r:null}function ie(e){for(;e=e.parent;)if(e.type===f.Alternative)return e;return null}function Pr(e){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(e)}function D(e,{bypassPropertyNameCheck:t}={}){let s=W(K(e),{bypassPropertyNameCheck:t}).pattern.alternatives;return s.length>1||s[0].elements.length>1?ue(v(),s):s[0].elements[0]}function te(e,t){let r=dt(e);return e[r][0].parent=e,t&&ue(e[r][0],t),e}function Et(e,t){let r=Ne(t),s=U[r.target]>=U[O.ES2024],n=r.target===O.ESNext,a=r.maxRecursionDepth;if(a!==null&&(!Number.isInteger(a)||a<2||a>100))throw new Error("Invalid maxRecursionDepth; use null or 2-100");let o=null,i=null;if(!n){let h=[e.flags.ignoreCase];T({node:e},{getCurrentModI:()=>h.at(-1),popModI(){h.pop()},pushModI(m){h.push(m)},setHasCasedChar(){h.at(-1)?o=!0:i=!0}},Tr)}let u={dotAll:e.flags.dotAll,ignoreCase:!!((e.flags.ignoreCase||o)&&!i)},c=null,l={allowBestEffort:r.allowBestEffort,appliedGlobalFlags:u,captureFlagIMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},groupNames:new Set,inCharClass:!1,lastNode:c,maxRecursionDepth:a,optimize:r.optimize,useAppliedIgnoreCase:!!(!n&&o&&i),useDuplicateNames:n,useFlagMods:n,useFlagV:s,usePostEs2018Properties:s};function g(h){switch(l.lastNode=c,c=h,h.type){case f.Regex:return{pattern:g(h.pattern),flags:g(h.flags),options:{...h.options}};case f.Alternative:return h.elements.map(g).join("");case f.Assertion:return Or(h,l,g);case f.Backreference:return Gr(h,l);case f.CapturingGroup:return Mr(h,l,g);case f.Character:return Br(h,l);case f.CharacterClass:return Vr(h,l,g);case f.CharacterClassIntersection:if(!l.useFlagV)throw new Error("Use of class intersection requires target ES2024 or later");return h.classes.map(g).join("&&");case f.CharacterClassRange:return jr(h,l);case f.CharacterSet:return Hr(h,l);case f.Flags:return Kr(h,l);case f.Group:return Wr(h,l,g);case f.Pattern:return h.alternatives.map(g).join("|");case f.Quantifier:return g(h.element)+Xr(h);case f.Recursion:return zr(h,l);default:throw new Error(`Unexpected node type "${h.type}"`)}}let p=g(e);return s||(delete p.options.force.v,p.options.disable.v=!0,p.options.unicodeSetsPlugin=null),p}var Tr={AnyGroup:{enter({node:e},t){let r=t.getCurrentModI();t.pushModI(e.flags?At({ignoreCase:r},e.flags).ignoreCase:r)},exit(e,t){t.popModI()}},Backreference(e,t){t.setHasCasedChar()},Character({node:e},t){$e($(e.value))&&t.setHasCasedChar()},CharacterClassRange({node:e,skip:t},r){t(),wt(e,{firstOnly:!0}).length&&r.setHasCasedChar()},CharacterSet({node:e},t){e.kind===x.property&&Ae.has(e.value)&&t.setHasCasedChar()}},vr=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),Dr=new Set(["-","\\","]","^"]),Rr=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),mt=new Map([[9,d`\t`],[10,d`\n`],[11,d`\v`],[12,d`\f`],[13,d`\r`]]),Ur=/^\p{Cased}$/u;function $e(e){return Ur.test(e)}function Or({kind:e,negate:t,alternatives:r},s,n){if(e===A.lookahead||e===A.lookbehind)return`(?${`${e===A.lookahead?"":"<"}${t?"!":"="}`}${r.map(n).join("|")})`;if(e===A.string_end)return"$";if(e===A.string_start)return"^";throw new Error(`Unexpected assertion kind "${e}"`)}function Gr({ref:e},t){if(typeof e!="number")throw new Error("Unexpected named backref in transformed AST");if(!t.useFlagMods&&!t.allowBestEffort&&t.currentFlags.ignoreCase&&!t.captureFlagIMap.get(e))throw new Error("Use of case-insensitive backref to case-sensitive group requires option allowBestEffort or target ESNext");return"\\"+e}function Mr({name:e,number:t,alternatives:r},s,n){return e&&(s.groupNames.has(e)?s.useDuplicateNames||(e=null):s.groupNames.add(e)),s.captureFlagIMap.set(t,s.currentFlags.ignoreCase),`(${e?`?<${e}>`:""}${r.map(n).join("|")})`}function Br({value:e},t){let r=$(e),s=z(e,{isAfterBackref:t.lastNode.type===f.Backreference,inCharClass:t.inCharClass,useFlagV:t.useFlagV});if(s!==r)return s;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&$e(r)){let n=Ce(r);return t.inCharClass?n.join(""):n.length>1?`[${n.join("")}]`:n[0]}return r}function Vr({negate:e,parent:t,elements:r},s,n){if((!s.useFlagV||s.optimize)&&t.type===f.CharacterClass&&!e&&r[0].type!==f.CharacterClassIntersection)return r.map(n).join("");if(!s.useFlagV&&t.type===f.CharacterClass)throw new Error("Use of nested character class requires target ES2024 or later");s.inCharClass=!0;let a=`[${e?"^":""}${r.map(n).join("")}]`;return s.inCharClass=!1,a}function jr(e,t){let r=e.min.value,s=e.max.value,n={isAfterBackref:!1,inCharClass:!0,useFlagV:t.useFlagV},a=z(r,n),o=z(s,n),i="";if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase){let u=wt(e);Qr(u).forEach(l=>{i+=Array.isArray(l)?`${z(l[0],n)}-${z(l[1],n)}`:z(l,n)})}return`${a}-${o}${i}`}function Hr({kind:e,negate:t,value:r,key:s},n){if(e===x.any)return n.currentFlags.dotAll?n.appliedGlobalFlags.dotAll||n.useFlagMods?".":"[^]":d`[^\n]`;if(e===x.digit)return t?d`\D`:d`\d`;if(e===x.property){if(!n.usePostEs2018Properties&&We.has(r))throw new Error(`Unicode property "${r}" unavailable in target ES2018`);if(n.useAppliedIgnoreCase&&n.currentFlags.ignoreCase&&Ae.has(r))throw new Error(`Unicode property "${r}" can't be case-insensitive when other chars have specific case`);return`${t?d`\P`:d`\p`}{${s?`${s}=`:""}${r}}`}if(e===x.word)return t?d`\W`:d`\w`;throw new Error(`Unexpected character set kind "${e}"`)}function Kr(e,t){return(t.appliedGlobalFlags.ignoreCase?"i":"")+(e.dotAll?"s":"")+(e.sticky?"y":"")}function Wr({atomic:e,flags:t,alternatives:r},s,n){let a=s.currentFlags;t&&(s.currentFlags=At(a,t));let o=`(?${qr(e,t,s.useFlagMods)}${r.map(n).join("|")})`;return s.currentFlags=a,o}function zr({ref:e},t){let r=t.maxRecursionDepth;if(!r)throw new Error("Use of recursion disabled");if(!t.allowBestEffort)throw new Error("Use of recursion requires option allowBestEffort");return e===0?`(?R=${r})`:d`\g<${e}&R=${r}>`}function wt(e,{firstOnly:t}={}){let r=e.min.value,s=e.max.value,n=[];if(r<65&&(s===65535||s>=131071)||r===65536&&s>=131071)return n;for(let a=r;a<=s;a++){let o=$(a);if(!$e(o))continue;let i=Ce(o).filter(u=>{let c=u.codePointAt(0);return c<r||c>s});if(i.length&&(n.push(...i),t))break}return n}function Qr(e){let t=e.map(n=>n.codePointAt(0)).sort((n,a)=>n-a),r=[],s=null;for(let n=0;n<t.length;n++)t[n+1]===t[n]+1?s??=t[n]:s===null?r.push(t[n]):(r.push([s,t[n]]),s=null);return r}function z(e,{isAfterBackref:t,inCharClass:r,useFlagV:s}){if(mt.has(e))return mt.get(e);if(e<32||e>126&&e<160||t&&Jr(e))return d`\x${e.toString(16).padStart(2,"0")}`;let n=r?s?Rr:Dr:vr,a=$(e);return(n.has(a)?"\\":"")+a}function qr(e,t,r){if(e)return">";let s="";if(t&&r){let{enable:n,disable:a}=t;s=(n?.ignoreCase?"i":"")+(n?.dotAll?"s":"")+(a?"-":"")+(a?.ignoreCase?"i":"")+(a?.dotAll?"s":"")}return`${s}:`}function At(e,{enable:t,disable:r}){return{dotAll:!r?.dotAll&&!!(t?.dotAll||e.dotAll),ignoreCase:!r?.ignoreCase&&!!(t?.ignoreCase||e.ignoreCase)}}function Xr({min:e,max:t,greedy:r,possessive:s}){let n;return!e&&t===1?n="?":!e&&t===1/0?n="*":e===1&&t===1/0?n="+":e===t?n=`{${e}}`:n=`{${e},${t===1/0?"":t}}`,n+(s?"+":r?"":"?")}function Jr(e){return e>47&&e<58}var y=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function Q(e,t,r,s){let n=new RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,"gsu"),a=[!1],o=0,i="";for(let u of e.matchAll(n)){let{0:c,groups:{$skip:l}}=u;if(!l&&(!s||s===y.DEFAULT==!o)){r instanceof Function?i+=r(u,{context:o?y.CHAR_CLASS:y.DEFAULT,negated:a[a.length-1]}):i+=r;continue}c[0]==="["?(o++,a.push(c[1]==="^")):c==="]"&&o&&(o--,a.pop()),i+=c}return i}function Pe(e,t,r,s){Q(e,t,r,s)}function Te(e,t,r=0,s){if(!new RegExp(t,"su").test(e))return null;let n=new RegExp(`${t}|(?<$skip>\\\\?.)`,"gsu");n.lastIndex=r;let a=0,o;for(;o=n.exec(e);){let{0:i,groups:{$skip:u}}=o;if(!u&&(!s||s===y.DEFAULT==!a))return o;i==="["?a++:i==="]"&&a&&a--,n.lastIndex==o.index&&n.lastIndex++}return null}function Zr(e,t,r){return!!Te(e,t,0,r)}function $t(e,t){let r=/\\?./gsu;r.lastIndex=t;let s=e.length,n=0,a=1,o;for(;o=r.exec(e);){let[i]=o;if(i==="[")n++;else if(n)i==="]"&&n--;else if(i==="(")a++;else if(i===")"&&(a--,!a)){s=o.index;break}}return e.slice(t,s)}var Le=class{#e;constructor(e){this.#e=e}toString(){return String(this.#e)}};function Yr(e,...t){if(Array.isArray(e?.raw))return new Le(e.raw.flatMap((r,s)=>s<e.raw.length-1?[r,t[s]]:r).join(""));if(!t.length)return new Le(e===void 0?"":e);throw new Error(`Unexpected arguments: ${JSON.stringify([e,...t])}`)}var _={DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS",ENCLOSED_P:"ENCLOSED_P",ENCLOSED_U:"ENCLOSED_U",GROUP_NAME:"GROUP_NAME",INTERVAL_QUANTIFIER:"INTERVAL_QUANTIFIER",INVALID_INCOMPLETE_TOKEN:"INVALID_INCOMPLETE_TOKEN"},b={DEFAULT:"DEFAULT",ENCLOSED_P:"ENCLOSED_P",ENCLOSED_Q:"ENCLOSED_Q",ENCLOSED_U:"ENCLOSED_U",INVALID_INCOMPLETE_TOKEN:"INVALID_INCOMPLETE_TOKEN",RANGE:"RANGE"},en=new Set([_.ENCLOSED_P,_.ENCLOSED_U]),tn=new Set([b.ENCLOSED_P,b.ENCLOSED_Q,b.ENCLOSED_U]),us=(()=>{try{new RegExp("(?i:)")}catch{return!1}return!0})(),rn=(()=>{try{new RegExp("","v")}catch{return!1}return!0})(),ve="&!#$%*+,.:;<=>?@^`~",De="$E$",Re=String.raw`\(\?<(?![=!])(?<captureName>[^>]+)>`,Ue=String.raw`\((?!\?)(?!(?<=\(\?\()DEFINE\))|${Re}`,Oe=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function nn(e){return e.replace(new RegExp(`^([${ve}])(?!\\1)`),(t,r,s)=>`\\${t}${s+1===e.length?"":t}`)}function sn(e,t){return Q(e,String.raw`\\0(?!\d)`,"\\x00",t)}var St=new RegExp(String.raw`
(?<groupN>\(\?<(?![=!])|\\[gk]<)
| (?<enclosedPU>\\[pPu]\{)
| (?<enclosedQ>\\q\{)
| (?<intervalQ>\{)
| (?<incompleteT>\\(?: $
  | c(?![A-Za-z])
  | u(?![A-Fa-f\d]{4})[A-Fa-f\d]{0,3}
  | x(?![A-Fa-f\d]{2})[A-Fa-f\d]?
  )
)
| --
| \\?.
`.replace(/\s+/g,""),"gsu");function Nt(e,{regexContext:t=_.DEFAULT,charClassContext:r=b.DEFAULT,charClassDepth:s=0,lastPos:n=0}={}){St.lastIndex=n;let a;for(;a=St.exec(e);){let{0:o,groups:{groupN:i,enclosedPU:u,enclosedQ:c,intervalQ:l,incompleteT:g}}=a;o==="["?(s++,t=_.CHAR_CLASS,r=b.DEFAULT):o==="]"&&t===_.CHAR_CLASS?(s&&s--,s||(t=_.DEFAULT),r=b.DEFAULT):t===_.CHAR_CLASS?g?r=b.INVALID_INCOMPLETE_TOKEN:o==="-"?r=b.RANGE:u?r=o[1]==="u"?b.ENCLOSED_U:b.ENCLOSED_P:c?r=b.ENCLOSED_Q:(o==="}"&&tn.has(r)||r===b.INVALID_INCOMPLETE_TOKEN||r===b.RANGE)&&(r=b.DEFAULT):g?t=_.INVALID_INCOMPLETE_TOKEN:i?t=_.GROUP_NAME:u?t=o[1]==="u"?_.ENCLOSED_U:_.ENCLOSED_P:l?t=_.INTERVAL_QUANTIFIER:(o===">"&&t===_.GROUP_NAME||o==="}"&&(t===_.INTERVAL_QUANTIFIER||en.has(t))||t===_.INVALID_INCOMPLETE_TOKEN)&&(t=_.DEFAULT)}return{regexContext:t,charClassContext:r,charClassDepth:s,lastPos:e.length}}function an(e){let t=0;return Pe(e,Ue,()=>t++,y.DEFAULT),t}function le(e,t,r,s){return e.slice(0,t)+s+e.slice(t+r.length)}var on=["Basic_Emoji","Emoji_Keycap_Sequence","RGI_Emoji_Modifier_Sequence","RGI_Emoji_Flag_Sequence","RGI_Emoji_Tag_Sequence","RGI_Emoji_ZWJ_Sequence","RGI_Emoji"].join("|"),cs=new RegExp(String.raw`
\\(?: c[A-Za-z]
  | p\{(?<pStrProp>${on})\}
  | [pP]\{[^\}]+\}
  | (?<qStrProp>q)
  | u(?:[A-Fa-f\d]{4}|\{[A-Fa-f\d]+\})
  | x[A-Fa-f\d]{2}
  | .
)
| --
| &&
| .
`.replace(/\s+/g,""),"gsu");function un(e,t,r,s){let n={raw:[]},a=[],o;return e.raw.forEach((i,u)=>{let c=r(i,{...o,lastPos:0},s);if(n.raw.push(c.transformed),o=c.runningContext,u<e.raw.length-1){let l=t[u];if(l instanceof Le){let g=r(l,{...o,lastPos:0},s);a.push(Yr(g.transformed)),o=g.runningContext}else a.push(l)}}),{template:n,substitutions:a}}var cn=new RegExp(String.raw`
${Oe}
| \(\?<
| (?<backrefNum>\\[1-9]\d*)
| \\?.
`.replace(/\s+/g,""),"gsu");function ln(e,t){e=String(e);let r="",s="";for(let{0:n,groups:{backrefNum:a}}of e.matchAll(cn)){r+=n,t=Nt(r,t);let{regexContext:o}=t;if(o===_.DEFAULT)if(n==="(")s+="(?:";else{if(a)throw new Error(`Invalid decimal escape "${n}" with implicit flag n; replace with named backreference`);s+=n}else s+=n}return{transformed:s,runningContext:t}}var kt=/^\s$/,pn=/^\\[\s#]$/,Ie=/^[ \t]$/,fn=/^\\[ \t]$/,gn=new RegExp(String.raw`
\\(?: [gk]<
  | [pPu]\{
  | c[A-Za-z]
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  | 0\d+
)
| \[\^
| ${Oe}
| \(\?<
| (?<dp>[${ve}])\k<dp>
| --
| \\?.
`.replace(/\s+/g,""),"gsu");function hn(e,t,r){e=String(e);let s=!1,n=!1,a=!1,o="",i="",u="",c="",l=!1,g=(p,{prefix:h=!0,postfix:m=!1}={})=>(p=(l&&h?"(?:)":"")+p+(m?"(?:)":""),l=!1,p);for(let{0:p,index:h}of e.matchAll(gn)){if(a){p===`
`&&(a=!1,l=!0);continue}if(s){if(kt.test(p))continue;s=!1,l=!0}else if(n){if(Ie.test(p))continue;n=!1}o+=p,t=Nt(o,t);let{regexContext:m,charClassContext:w}=t;if(p==="-"&&m===_.CHAR_CLASS&&c===b.RANGE&&(r.flags.includes("v")||r.unicodeSetsPlugin))throw new Error("Invalid unescaped hyphen as the end value for a range");if(m===_.DEFAULT&&/^(?:[?*+]|\?\?)$/.test(p)||m===_.INTERVAL_QUANTIFIER&&p==="{")i+=g(p,{prefix:!1,postfix:u==="("&&p==="?"});else if(m===_.DEFAULT)kt.test(p)?s=!0:p.startsWith("#")?a=!0:pn.test(p)?i+=g(p[1],{prefix:!1}):i+=g(p);else if(m===_.CHAR_CLASS&&p!=="["&&p!=="[^")if(Ie.test(p)&&(w===b.DEFAULT||w===b.ENCLOSED_Q||w===b.RANGE))n=!0;else{if(w===b.INVALID_INCOMPLETE_TOKEN)throw new Error(`Invalid incomplete token in character class: "${p}"`);if(fn.test(p)&&(w===b.DEFAULT||w===b.ENCLOSED_Q))i+=g(p[1],{prefix:!1});else if(w===b.DEFAULT){let k=e[h+1]??"",S=sn(p);(Ie.test(k)||p==="^")&&(S=nn(S)),i+=g(S)}else i+=g(p)}else i+=g(p);s||n||a||(u=p,c=w)}return{transformed:i,runningContext:t}}function dn(e){let t=String.raw`\(\?:\)`;e=Q(e,`(?:${t}){2,}`,"(?:)",y.DEFAULT);let r=De.replace(/\$/g,"\\$");return e=Q(e,String.raw`(?:${t}(?=[)|.[$\\]|\((?!DEFINE)|$)|(?<=[()|.\]^>]|\\[bBdDfnrsStvwW]|\(\?(?:[:=!]|<[=!])|^)${t}(?![?*+{]))(?!${r})`,"",y.DEFAULT),e}var _t=new RegExp(String.raw`(?<noncapturingStart>${Oe})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu");function Cn(e,t){if(!/\(\?>/.test(e))return e;let r="(?>",s=`(?:(?=(${t.useEmulationGroups?De:""}`,n=[0],a=0,o=0,i=NaN,u;do{u=!1;let c=0,l=0,g=!1,p;for(_t.lastIndex=Number.isNaN(i)?0:i+s.length;p=_t.exec(e);){let{0:h,index:m,groups:{capturingStart:w,noncapturingStart:k}}=p;if(h==="[")c++;else if(c)h==="]"&&c--;else if(h===r&&!g)i=m,g=!0;else if(g&&k)l++;else if(w)g?l++:(a++,n.push(a+o));else if(h===")"&&g){if(!l){o++,e=`${e.slice(0,i)}${s}${e.slice(i+r.length,m)}))<$$${o+a}>)${e.slice(m+1)}`,u=!0;break}l--}}}while(u);return e=Q(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:c,groups:{backrefNum:l,wrappedBackrefNum:g}})=>{if(l){let p=+l;if(p>n.length-1)throw new Error(`Backref "${c}" greater than number of captures`);return`\\${n[p]}`}return`\\${g}`},y.DEFAULT),e}var It=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,ye=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${It})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu");function mn(e){if(!new RegExp(`${It}\\+`).test(e))return e;let t=[],r=null,s=null,n="",a=0,o;for(ye.lastIndex=0;o=ye.exec(e);){let{0:i,index:u,groups:{qBase:c,qMod:l,invalidQ:g}}=o;if(i==="[")a||(s=u),a++;else if(i==="]")a?a--:s=null;else if(!a)if(l==="+"&&n&&!n.startsWith("(")){if(g)throw new Error(`Invalid quantifier "${i}"`);let p=-1;if(/^\{\d+\}$/.test(c))e=le(e,u+c.length,l,"");else{if(n===")"||n==="]"){let h=n===")"?r:s;if(h===null)throw new Error(`Invalid unmatched "${n}"`);e=`${e.slice(0,h)}(?>${e.slice(h,u)}${c})${e.slice(u+i.length)}`}else e=`${e.slice(0,u-n.length)}(?>${n}${c})${e.slice(u+i.length)}`;p+=4}ye.lastIndex+=p}else i[0]==="("?t.push(u):i===")"&&(r=t.length?t.pop():null);n=i}return e}function En(e,t){let r=yt(e,{includeContents:!0}),s=An(e,r,t.useEmulationGroups);return Sn(s,r)}var wn=String.raw`\\g<(?<subroutineName>[^>&]+)>`,re=new RegExp(String.raw`
${wn}
| (?<capturingStart>${Ue})
| \\(?<backrefNum>[1-9]\d*)
| \\k<(?<backrefName>[^>]+)>
| \\?.
`.replace(/\s+/g,""),"gsu");function An(e,t,r){if(!/\\g</.test(e))return e;let s=Zr(e,"\\\\(?:[1-9]|k<[^>]+>)",y.DEFAULT),n=s?`(${r?De:""}`:"(?:",a=new Map,o=[],i=[0],u=0,c=0,l=0,g=0,p=0,h=e,m;for(re.lastIndex=0;m=re.exec(h);){let{0:w,index:k,groups:{subroutineName:S,capturingStart:fe,backrefNum:X,backrefName:ne}}=m;if(w==="[")p++;else if(p)w==="]"&&p--;else if(S){if(!t.has(S))throw new Error(`Invalid named capture referenced by subroutine ${w}`);if(a.has(S))throw new Error(`Subroutine ${w} followed a recursive reference`);let F=t.get(S).contents,B=`${n}${F})`;s&&(l=0,c++),a.set(S,{unclosedGroupCount:kn(B)}),o.push(S),h=le(h,k,w,B),re.lastIndex-=w.length-n.length}else if(fe)a.size?(s&&(l++,c++),w!=="("&&(h=le(h,k,w,n),re.lastIndex-=w.length-n.length)):s&&(i.push(xe(i)+1+c-g),g=c,u++);else if((X||ne)&&a.size){let F=X?+X:t.get(ne)?.groupNum,B=!1;for(let R of o){let V=t.get(R);if(F>=V.groupNum&&F<=V.groupNum+V.numCaptures){B=!0;break}}if(B){let R=t.get(xe(o)),V=u+c-l,J=`\\k<$$b${F}s${V}r${R.groupNum}c${R.numCaptures}>`;h=le(h,k,w,J),re.lastIndex+=J.length-w.length}}else if(w===")"&&a.size){let F=a.get(xe(o));F.unclosedGroupCount--,F.unclosedGroupCount||a.delete(o.pop())}}return s&&(h=Q(h,String.raw`\\(?:(?<bNum>[1-9]\d*)|k<\$\$b(?<bNumSub>\d+)s(?<subNum>\d+)r(?<refNum>\d+)c(?<refCaps>\d+)>)`,({0:w,groups:{bNum:k,bNumSub:S,subNum:fe,refNum:X,refCaps:ne}})=>{if(k){let J=+k;if(J>i.length-1)throw new Error(`Backref "${w}" greater than number of captures`);return`\\${i[J]}`}let F=+S,B=+fe,R=+X,V=+ne;return F<R||F>R+V?`\\${i[F]}`:`\\${B-R+F}`},y.DEFAULT)),h}var Fe=new RegExp(String.raw`${Re}|\(\?:\)|(?<invalid>\\?.)`,"gsu");function Sn(e,t){let r=Te(e,String.raw`\(\?\(DEFINE\)`,0,y.DEFAULT);if(!r)return e;let s=bt(e,r);if(s.afterPos<e.length)throw new Error("DEFINE group allowed only at the end of a regex");if(s.afterPos>e.length)throw new Error("DEFINE group is unclosed");let n;for(Fe.lastIndex=0;n=Fe.exec(s.contents);){let{captureName:a,invalid:o}=n.groups;if(a){let i=bt(s.contents,n),u;if(!t.get(a).isUnique)u=a;else{let c=yt(i.contents);for(let l of c.keys())if(!t.get(l).isUnique){u=l;break}}if(u)throw new Error(`Duplicate group name "${u}" within DEFINE`);Fe.lastIndex=i.afterPos}else if(o)throw new Error("DEFINE group includes unsupported syntax at top level")}return e.slice(0,r.index)}function kn(e){let t=0;return Pe(e,"\\(",()=>t++,y.DEFAULT),t}function _n(e,t){let r=0,s=0,n;for(;n=Te(e,Ue,s,y.DEFAULT);){let{0:a,index:o,groups:{captureName:i}}=n;if(r++,i===t)break;s=o+a.length}return r}function bt(e,t){let r=t.index+t[0].length,s=$t(e,r),n=r+s.length+1;return{contents:s,afterPos:n}}function yt(e,{includeContents:t}={}){let r=new Map;return Pe(e,Re,({0:s,index:n,groups:{captureName:a}})=>{if(r.has(a))r.get(a).isUnique=!1;else{let o={isUnique:!0};if(t){let i=$t(e,n+s.length);Object.assign(o,{contents:i,groupNum:_n(e,a),numCaptures:an(i)})}r.set(a,o)}},y.DEFAULT),r}function xe(e){return e[e.length-1]}var bn="&!#%,:;<=>@`~",$n=new RegExp(String.raw`
\[\^?-?
| --?\]
| (?<dp>[${ve}])\k<dp>
| --
| \\(?<vOnlyEscape>[${bn}])
| \\[pPu]\{[^}]+\}
| \\?.
`.replace(/\s+/g,""),"gsu");function Nn(e){let t='Invalid unescaped "-" in character class',r=!1,s="";for(let{0:n,groups:{dp:a,vOnlyEscape:o}}of e.matchAll($n)){if(n[0]==="["){if(r)throw new Error("Invalid nested character class when flag v not supported; possibly from interpolation");if(n.endsWith("-"))throw new Error(t);r=!0}else if(n.endsWith("]")){if(n[0]==="-")throw new Error(t);r=!1}else if(r){if(n==="&&"||n==="--")throw new Error(`Invalid set operator "${n}" when flag v not supported`);if(a)throw new Error(`Invalid double punctuator "${n}", reserved by flag v`);if("(){}/|".includes(n))throw new Error(`Invalid unescaped "${n}" in character class`);if(o){s+=o;continue}}s+=n}return s}function Ft(e="",t={}){let r=In(t);if(r.subclass)throw new Error("Cannot use option subclass");return{expression:Fn(yn({raw:[e]},[],r).template.raw[0],r),flags:r.flags}}function In(e){let t={flags:"",subclass:!1,plugins:[],unicodeSetsPlugin:Nn,disable:{},force:{},...e};if(/[nuvx]/.test(t.flags))throw new Error("Implicit flags v/u/x/n cannot be explicitly added");let r=t.force.v||(t.disable.v?!1:rn);return t.flags+=r?"v":"u",r&&(t.unicodeSetsPlugin=null),t}function yn(e,t,r){let s=[];r.disable.x||s.push(hn),r.disable.n||s.push(ln);for(let n of s)({template:e,substitutions:t}=un(e,t,n,r));return{template:e,substitutions:t}}function Fn(e,t){let{flags:r,plugins:s,unicodeSetsPlugin:n,disable:a,subclass:o}=t;return[...s,...a.subroutines?[]:[En],...a.atomic?[]:[mn,Cn],...a.x?[]:[dn],...n?[n]:[]].forEach(i=>e=i(e,{flags:r,useEmulationGroups:o})),e}var L=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function Ge(e,t,r,s){let n=new RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,"gsu"),a=[!1],o=0,i="";for(let u of e.matchAll(n)){let{0:c,groups:{$skip:l}}=u;if(!l&&(!s||s===L.DEFAULT==!o)){r instanceof Function?i+=r(u,{context:o?L.CHAR_CLASS:L.DEFAULT,negated:a[a.length-1]}):i+=r;continue}c[0]==="["?(o++,a.push(c[1]==="^")):c==="]"&&o&&(o--,a.pop()),i+=c}return i}function xt(e,t,r,s){Ge(e,t,r,s)}function xn(e,t,r=0,s){if(!new RegExp(t,"su").test(e))return null;let n=new RegExp(`${t}|(?<$skip>\\\\?.)`,"gsu");n.lastIndex=r;let a=0,o;for(;o=n.exec(e);){let{0:i,groups:{$skip:u}}=o;if(!u&&(!s||s===L.DEFAULT==!a))return o;i==="["?a++:i==="]"&&a&&a--,n.lastIndex==o.index&&n.lastIndex++}return null}function q(e,t,r){return!!xn(e,t,0,r)}function Lt(e,t){let r=/\\?./gsu;r.lastIndex=t;let s=e.length,n=0,a=1,o;for(;o=r.exec(e);){let[i]=o;if(i==="[")n++;else if(n)i==="]"&&n--;else if(i==="(")a++;else if(i===")"&&(a--,!a)){s=o.index;break}}return e.slice(t,s)}var Rt=String.raw`\\g<(?<gRName>[^>&]+)&R=(?<gRDepth>\d+)>`,Me=String.raw`\(\?R=(?<rDepth>\d+)\)|${Rt}`,Be=String.raw`\(\?<(?![=!])(?<captureName>[^>]+)>`,pe=new RegExp(String.raw`${Be}|${Me}|\\?.`,"gsu");function Ut(e){if(!q(e,Me,L.DEFAULT))return e;if(q(e,String.raw`\\[1-9]`,L.DEFAULT))throw new Error("Numbered backrefs cannot be used with recursion; use named backref");if(q(e,String.raw`\(\?\(DEFINE\)`,L.DEFAULT))throw new Error("DEFINE groups cannot be used with recursion");let t=new Map,r=0,s;for(pe.lastIndex=0;s=pe.exec(e);){let{0:n,groups:{captureName:a,rDepth:o,gRName:i,gRDepth:u}}=s;if(n==="[")r++;else if(r)n==="]"&&r--;else if(a)t.set(a,pe.lastIndex);else if(o){let c=+o;Pt(c);let l=e.slice(0,s.index),g=e.slice(pe.lastIndex);return Tt(g),vt(l,g,c,!1)}else if(i){let c=+u;Pt(c);let l=`Recursion via \\g<${i}&R=${u}> must be used within the referenced group`;if(!t.has(i))throw new Error(l);let g=t.get(i),p=Lt(e,g);if(!q(p,Rt,L.DEFAULT))throw new Error(l);let h=e.slice(g,s.index),m=p.slice(h.length+n.length);return Tt(m),e.slice(0,g)+vt(h,m,c,!0)+e.slice(g+p.length)}}throw new Error("Unexpected error; recursion was not processed")}function Pt(e){if(e<2||e>100)throw new Error(`Max depth must be between 2 and 100; used ${e}`)}function Tt(e){if(q(e,Me,L.DEFAULT))throw new Error("Recursion can only be used once per regex")}function vt(e,t,r,s){let n=new Set;s&&xt(e+t,Be,({groups:{captureName:o}})=>{n.add(o)},L.DEFAULT);let a=r-1;return`${e}${Dt(`(?:${e}`,a,s?n:null)}(?:)${Dt(`${t})`,a,s?n:null,"backward")}${t}`}function Dt(e,t,r,s="forward"){let a=i=>s==="backward"?t-i+2-1:i+2,o="";for(let i=0;i<t;i++){let u=a(i);o+=Ge(e,String.raw`${Be}|\\k<(?<backref>[^>]+)>`,({0:c,groups:{captureName:l,backref:g}})=>{if(g&&r&&!r.has(g))return c;let p=`_$${u}`;return l?`(?<${l}${p}>`:`\\k<${g}${p}>`},L.DEFAULT)}return o}function Ve(e,t,r){let s=Ne(r),n=K(e,t),a=W(n,{optimize:s.optimize}),o=ce(a,{allowBestEffort:s.allowBestEffort,bestEffortTarget:s.target}),i=Et(o,s),u=Ft(i.pattern,{...i.options,flags:i.flags,plugins:[Ut]});return{pattern:u.expression,flags:u.flags}}function Ne(e){if(e?.target!==void 0&&!U[e.target])throw new Error(`Unexpected target "${e.target}"`);return{allowBestEffort:!0,maxRecursionDepth:6,optimize:!0,target:O.ES2024,...e}}function Ot(e,t,r){let s=Ve(e,t,r);return new RegExp(s.pattern,s.flags)}function Gt(e,t){return W(K(e,t))}function Ln(e,t){return ce(Gt(e,t))}return Kt(Pn);})();
//# sourceMappingURL=index.min.js.map
